# ä¼æ¥­ KMS è³‡æ–™æ²»ç†ç³»çµ±
## Data Governance for Knowledge Management System

> **åŸºæ–¼é‹ç®—æ€ç¶­çš„è³‡æ–™æ²»ç†æ¶æ§‹è¨­è¨ˆ**
> ç‚º RAG ç³»çµ±é–‹ç™¼å‰çš„å‰ç½®å·¥ä½œ

---

## ğŸ¯ ç³»çµ±ç›®æ¨™

åœ¨é–‹ç™¼ RAG ç³»çµ±ä¹‹å‰ï¼Œå»ºç«‹å®Œæ•´çš„è³‡æ–™æ²»ç†æ©Ÿåˆ¶ï¼Œç¢ºä¿ï¼š
1. **è³‡æ–™å“è³ª** - é«˜å“è³ªã€å¯ä¿¡è³´çš„çŸ¥è­˜è³‡ç”¢
2. **å¯è¿½æº¯æ€§** - å®Œæ•´çš„è³‡æ–™è¡€ç·£èˆ‡è®Šæ›´æ­·å²
3. **åˆè¦æ€§** - ç¬¦åˆä¼æ¥­è³‡è¨Šå®‰å…¨èˆ‡éš±ç§æ”¿ç­–
4. **å¯ç™¼ç¾æ€§** - çµæ§‹åŒ–çš„ç´¢å¼•èˆ‡å…ƒè³‡æ–™ç®¡ç†

---

## ğŸ§  é‹ç®—æ€ç¶­è¨­è¨ˆæ–¹æ³•

### 1. åˆ†è§£ (Decomposition)

å°‡ KMS è³‡æ–™æ²»ç†å•é¡Œæ‹†è§£ç‚ºå…­å¤§æ¨¡çµ„ï¼š

```
KMS è³‡æ–™æ²»ç†
â”œâ”€â”€ ğŸ“¥ åŸå§‹æ–‡æª”æ”¶é›† (Raw Ingestion)
â”œâ”€â”€ ğŸ”„ æ–‡æª”è™•ç† (Processing)
â”œâ”€â”€ ğŸ“‘ ç´¢å¼•å»ºç«‹ (Indexing)
â”œâ”€â”€ ğŸ·ï¸ å…ƒè³‡æ–™ç®¡ç† (Metadata)
â”œâ”€â”€ âœ… å“è³ªæ§åˆ¶ (Quality)
â””â”€â”€ ğŸ”— è¡€ç·£è¿½è¹¤ (Lineage)
```

### 2. æ¨¡å¼è­˜åˆ¥ (Pattern Recognition)

è­˜åˆ¥ä¼æ¥­æ–‡æª”çš„å…±åŒæ¨¡å¼ï¼š
- **æ–‡æª”é¡å‹æ¨¡å¼**: è«–æ–‡ã€å ±å‘Šã€æ‰‹å†Šã€æ”¿ç­–
- **çµæ§‹æ¨¡å¼**: æ¨™é¡Œã€ç« ç¯€ã€è¡¨æ ¼ã€å¼•ç”¨
- **å‘½åæ¨¡å¼**: `YYYY_DocumentName.pdf`
- **ç”Ÿå‘½é€±æœŸæ¨¡å¼**: è‰ç¨¿ â†’ å¯©æ ¸ â†’ ç™¼å¸ƒ â†’ æ­¸æª”

### 3. æŠ½è±¡åŒ– (Abstraction)

æå–é—œéµæŠ½è±¡å±¤ï¼š
- **æ–‡æª”å¯¦é«”**: çµ±ä¸€çš„æ–‡æª”è¡¨ç¤ºæ¨¡å‹
- **å…ƒè³‡æ–™æ¨¡å‹**: æ¨™æº–åŒ–çš„å…ƒæ•¸æ“šschema
- **å“è³ªæ¨¡å‹**: å¤šç¶­åº¦å“è³ªè©•ä¼°æ¡†æ¶
- **æ²»ç†ç­–ç•¥**: å¯é…ç½®çš„æ²»ç†è¦å‰‡å¼•æ“

### 4. æ¼”ç®—æ³•è¨­è¨ˆ (Algorithm Design)

è¨­è¨ˆè‡ªå‹•åŒ–æµç¨‹ï¼š
- **æ–‡æª”è§£ææ¼”ç®—æ³•**: Docling + OCR
- **èªç¾©åˆ†å¡Šæ¼”ç®—æ³•**: åŸºæ–¼ embeddings çš„é‚Šç•Œæª¢æ¸¬
- **å“è³ªè©•åˆ†æ¼”ç®—æ³•**: å¤šç¶­åº¦åŠ æ¬Šè©•åˆ†
- **è¡€ç·£è¿½è¹¤æ¼”ç®—æ³•**: DAG è¡€ç·£åœ–å»ºæ§‹

---

## ğŸ“‚ ç›®éŒ„çµæ§‹

```
kms_governance/
â”‚
â”œâ”€â”€ 01_raw/                      # åŸå§‹æ–‡æª”å±¤
â”‚   â”œâ”€â”€ papers/                  # è«–æ–‡ (demo å ´åŸŸ)
â”‚   â”œâ”€â”€ reports/                 # å ±å‘Š
â”‚   â””â”€â”€ policies/                # æ”¿ç­–æ–‡ä»¶
â”‚
â”œâ”€â”€ 02_processed/                # è™•ç†å¾Œæ–‡æª”å±¤
â”‚   â”œâ”€â”€ extracted/               # æå–çš„å…§å®¹
â”‚   â”‚   â”œâ”€â”€ text/                # ç´”æ–‡æœ¬
â”‚   â”‚   â”œâ”€â”€ tables/              # è¡¨æ ¼æ•¸æ“š
â”‚   â”‚   â””â”€â”€ images/              # åœ–ç‰‡
â”‚   â””â”€â”€ chunked/                 # åˆ†å¡Šå¾Œçš„å…§å®¹
â”‚       â”œâ”€â”€ semantic/            # èªç¾©åˆ†å¡Š
â”‚       â””â”€â”€ fixed/               # å›ºå®šå¤§å°åˆ†å¡Š
â”‚
â”œâ”€â”€ 03_indexed/                  # ç´¢å¼•å±¤
â”‚   â”œâ”€â”€ vector_index/            # å‘é‡ç´¢å¼•
â”‚   â”œâ”€â”€ keyword_index/           # é—œéµå­—ç´¢å¼•
â”‚   â””â”€â”€ hybrid_index/            # æ··åˆç´¢å¼•
â”‚
â”œâ”€â”€ 04_metadata/                 # å…ƒè³‡æ–™å±¤
â”‚   â”œâ”€â”€ document_catalog.db      # æ–‡æª”ç›®éŒ„ SQLite
â”‚   â”œâ”€â”€ schemas/                 # å…ƒè³‡æ–™ schema å®šç¾©
â”‚   â”‚   â”œâ”€â”€ paper_schema.json
â”‚   â”‚   â”œâ”€â”€ report_schema.json
â”‚   â”‚   â””â”€â”€ policy_schema.json
â”‚   â””â”€â”€ tags/                    # æ¨™ç±¤ç³»çµ±
â”‚       â”œâ”€â”€ categories.json      # åˆ†é¡æ¨™ç±¤
â”‚       â””â”€â”€ keywords.json        # é—œéµå­—æ¨™ç±¤
â”‚
â”œâ”€â”€ 05_quality/                  # å“è³ªæ§åˆ¶å±¤
â”‚   â”œâ”€â”€ reports/                 # å“è³ªå ±å‘Š
â”‚   â”œâ”€â”€ metrics/                 # å“è³ªæŒ‡æ¨™
â”‚   â””â”€â”€ validation/              # é©—è­‰è¦å‰‡
â”‚
â”œâ”€â”€ 06_lineage/                  # è¡€ç·£è¿½è¹¤å±¤
â”‚   â”œâ”€â”€ dag/                     # è³‡æ–™è¡€ç·£åœ–
â”‚   â”œâ”€â”€ changelog/               # è®Šæ›´æ—¥èªŒ
â”‚   â””â”€â”€ audit/                   # å¯©è¨ˆè¨˜éŒ„
â”‚
â”œâ”€â”€ utils/                       # å·¥å…·æ¨¡çµ„
â”‚   â”œâ”€â”€ document_processor.py   # æ–‡æª”è™•ç†å™¨
â”‚   â”œâ”€â”€ metadata_extractor.py   # å…ƒæ•¸æ“šæå–å™¨
â”‚   â”œâ”€â”€ quality_assessor.py     # å“è³ªè©•ä¼°å™¨
â”‚   â””â”€â”€ lineage_tracker.py      # è¡€ç·£è¿½è¹¤å™¨
â”‚
â”œâ”€â”€ notebooks/                   # Jupyter Notebooks
â”‚   â”œâ”€â”€ 00_architecture_overview.ipynb
â”‚   â”œâ”€â”€ 01_document_ingestion.ipynb
â”‚   â”œâ”€â”€ 02_metadata_management.ipynb
â”‚   â”œâ”€â”€ 03_quality_control.ipynb
â”‚   â””â”€â”€ 04_end_to_end_demo.ipynb
â”‚
â”œâ”€â”€ configs/                     # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ governance_policy.yaml
â”‚   â”œâ”€â”€ quality_thresholds.json
â”‚   â””â”€â”€ processing_rules.yaml
â”‚
â””â”€â”€ docs/                        # æ–‡æª”
    â”œâ”€â”€ data_dictionary.md       # æ•¸æ“šå­—å…¸
    â”œâ”€â”€ governance_guide.md      # æ²»ç†æŒ‡å—
    â””â”€â”€ api_reference.md         # API åƒè€ƒ
```

---

## ğŸ”„ è³‡æ–™æµç¨‹ (Data Flow)

```mermaid
graph LR
    A[åŸå§‹æ–‡æª”<br/>01_raw] --> B[æ–‡æª”è§£æ<br/>Docling]
    B --> C[å…§å®¹æå–<br/>02_processed]
    C --> D[èªç¾©åˆ†å¡Š<br/>Chunking]
    D --> E[ç´¢å¼•å»ºç«‹<br/>03_indexed]
    C --> F[å…ƒè³‡æ–™æå–<br/>04_metadata]
    D --> G[å“è³ªè©•ä¼°<br/>05_quality]
    G --> H{å“è³ªæª¢æŸ¥}
    H -->|é€šé| E
    H -->|å¤±æ•—| I[äººå·¥å¯©æ ¸]
    I --> B
    E --> J[RAG ç³»çµ±]

    style A fill:#e1f5ff
    style C fill:#fff3e0
    style E fill:#f1f8e9
    style G fill:#fce4ec
    style J fill:#e8f5e9
```

---

## ğŸ“Š è³‡æ–™æ²»ç†ç¶­åº¦

### 1. æ–‡æª”ç”Ÿå‘½é€±æœŸç®¡ç†

| éšæ®µ | ç‹€æ…‹ | è‡ªå‹•åŒ–æ“ä½œ |
|------|------|------------|
| æ”å– | `raw` | æ ¼å¼é©—è­‰ã€ç—…æ¯’æƒæ |
| è™•ç† | `processing` | å…§å®¹æå–ã€OCR |
| å¯©æ ¸ | `review` | å“è³ªè©•ä¼°ã€åˆè¦æª¢æŸ¥ |
| ç™¼å¸ƒ | `published` | ç´¢å¼•å»ºç«‹ã€å…ƒæ•¸æ“šç™¼å¸ƒ |
| æ­¸æª” | `archived` | å£“ç¸®å­˜å„²ã€è¨ªå•æ§åˆ¶ |
| æ·˜æ±° | `deprecated` | æ¨™è¨˜éæœŸã€è¨ˆåŠƒåˆªé™¤ |

### 2. å…ƒè³‡æ–™ç®¡ç†

#### æ ¸å¿ƒå…ƒè³‡æ–™æ¬„ä½

```json
{
  "document_id": "string (UUID)",
  "title": "string",
  "authors": ["string"],
  "created_date": "datetime",
  "modified_date": "datetime",
  "document_type": "enum",
  "category": "string",
  "keywords": ["string"],
  "language": "string",
  "quality_score": "float [0-1]",
  "status": "enum",
  "security_level": "enum"
}
```

### 3. å“è³ªç¶­åº¦

åŸºæ–¼ ISO 25012 æ¨™æº–ï¼š

| ç¶­åº¦ | æ¬Šé‡ | æ¸¬é‡æ–¹å¼ |
|------|------|----------|
| æº–ç¢ºæ€§ (Accuracy) | 0.20 | æ‹¼å¯«/èªæ³•éŒ¯èª¤ç‡ |
| å®Œæ•´æ€§ (Completeness) | 0.20 | å¿…éœ€æ¬„ä½å¡«å……ç‡ |
| ä¸€è‡´æ€§ (Consistency) | 0.15 | æ ¼å¼/è¡“èªä¸€è‡´æ€§ |
| æ™‚æ•ˆæ€§ (Currency) | 0.15 | æ–‡æª”å¹´é½¡ |
| å¯ç†è§£æ€§ (Understandability) | 0.15 | å¯è®€æ€§åˆ†æ•¸ |
| å¯è¿½æº¯æ€§ (Traceability) | 0.15 | è¡€ç·£å®Œæ•´æ€§ |

**ç¶œåˆå“è³ªåˆ†æ•¸**:
```
Q_total = Î£ (weight_i Ã— score_i)
```

### 4. å®‰å…¨èˆ‡åˆè¦

- **è¨ªå•æ§åˆ¶**: Role-Based Access Control (RBAC)
- **æ•æ„Ÿè³‡è¨Šæª¢æ¸¬**: PIIã€æ©Ÿå¯†è³‡è¨Šè‡ªå‹•æ¨™è¨»
- **å¯©è¨ˆæ—¥èªŒ**: æ‰€æœ‰æ“ä½œå®Œæ•´è¨˜éŒ„
- **ä¿ç•™æ”¿ç­–**: è‡ªå‹•åŒ–çš„è³‡æ–™ä¿ç•™èˆ‡åˆªé™¤

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. ç’°å¢ƒè¨­å®š

```bash
# å®‰è£ä¾è³´
pip install -r requirements.txt

# åˆå§‹åŒ–è³‡æ–™åº«
python utils/init_database.py

# é…ç½®æ²»ç†è¦å‰‡
cp configs/governance_policy.yaml.template configs/governance_policy.yaml
```

### 2. åŸ·è¡Œ Demo

```bash
# å•Ÿå‹• Jupyter Lab
jupyter lab notebooks/04_end_to_end_demo.ipynb
```

### 3. æ‰¹æ¬¡è™•ç†

```python
from utils.document_processor import DocumentProcessor

processor = DocumentProcessor(config_path="configs/governance_policy.yaml")
processor.process_directory("01_raw/papers")
```

---

## ğŸ“š æ•™å­¸ç›®æ¨™

### å­¸ç¿’æˆæœ

å®Œæˆæœ¬æ•™å­¸å¾Œï¼Œå­¸ç”Ÿå°‡èƒ½å¤ ï¼š

1. **ç†è§£è³‡æ–™æ²»ç†çš„é‡è¦æ€§** - åœ¨ RAG ä¹‹å‰ç‚ºä½•éœ€è¦æ²»ç†
2. **æŒæ¡é‹ç®—æ€ç¶­** - æ‡‰ç”¨å››å¤§åŸå‰‡è§£æ±ºå¯¦éš›å•é¡Œ
3. **å¯¦ä½œæ²»ç†ç³»çµ±** - å¾é›¶å»ºæ§‹ä¼æ¥­ç´šæ²»ç†æ¶æ§‹
4. **è©•ä¼°è³‡æ–™å“è³ª** - å»ºç«‹å¤šç¶­åº¦å“è³ªè©•ä¼°æ©Ÿåˆ¶
5. **è¿½è¹¤è³‡æ–™è¡€ç·£** - å¯¦ç¾å®Œæ•´çš„è³‡æ–™è¡€ç·£è¿½è¹¤

### èª²ç¨‹æ¨¡çµ„

| æ¨¡çµ„ | æ™‚é•· | å…§å®¹ |
|------|------|------|
| 00 | 30min | æ¶æ§‹æ¦‚è¦½èˆ‡é‹ç®—æ€ç¶­ |
| 01 | 60min | æ–‡æª”æ”å–èˆ‡è§£æ |
| 02 | 60min | å…ƒè³‡æ–™ç®¡ç† |
| 03 | 60min | å“è³ªæ§åˆ¶ |
| 04 | 90min | ç«¯åˆ°ç«¯ Demo |

---

## ğŸ”§ æŠ€è¡“æ£§

- **æ–‡æª”è™•ç†**: Docling, PyPDF2, python-docx
- **NLP**: spaCy, sentence-transformers
- **è³‡æ–™åº«**: SQLite (metadata), ChromaDB (vectors)
- **å“è³ªè©•ä¼°**: textstat, language-tool-python
- **å¯è¦–åŒ–**: plotly, networkx
- **Notebook**: Jupyter Lab

---

## ğŸ“– ç›¸é—œè³‡æº

- [Ch1 ä¼æ¥­çŸ¥è­˜æ²»ç†ç†è«–](../ch1_document_governance/lectures/01_enterprise_knowledge_governance.md)
- [Docling å®˜æ–¹æ–‡æª”](https://github.com/DS4SD/docling)
- [ISO 25012 è³‡æ–™å“è³ªæ¨™æº–](https://www.iso.org/standard/35736.html)

---

**ä½œè€…**: Data Governance Team
**ç‰ˆæœ¬**: v1.0
**æ›´æ–°æ—¥æœŸ**: 2025-01-17
**æˆæ¬Š**: MIT License
